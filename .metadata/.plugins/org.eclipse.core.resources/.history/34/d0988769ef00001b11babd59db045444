package board;

import java.util.ArrayList;

public class Board {
	public ArrayList<ArrayList<Spot>> grid;
	public Player empty, white, black;
	
	public Board() {
		grid = new ArrayList<ArrayList<Spot>>();
		white = new Player(this, 1);
		genGrid(8, 8);
	}
	
	private void genGrid(int rows, int columns){
		for(int i=0; i<rows+2; i++) {
			grid.add(new ArrayList<Spot>());
			for(int j=0; j<columns+2; j++) {
				if(i==0||i==rows+1||j==0||j==columns+1) {
					grid.get(i).add(new Spot(i, j));
					grid.get(i).get(j).init(new Barrier(empty, grid.get(i).get(j), this));
				}
				if(i==2||i==rows-2&&j!=0&&j!=columns-2) {
					grid.get(i).add(new Spot(i, j));
					grid.get(i).get(j).init(new Pawn(white, grid.get(i).get(j), this));					
				}
				else {
					grid.get(i).add(new Spot(i, j));
					grid.get(i).get(j).init(new Empty(empty, grid.get(i).get(j), this));					
				}
			}
		}
		
	}
	
	public Piece getPiece(String s) {
		return grid.get((int)s.toCharArray()[0]-65).get((int)s.toCharArray()[1]-48).piece;
	}
	
	public Piece getPiece(int row, int columns) {
		return grid.get(row).get(columns).piece;
	}
	
	public String toString() {
		String s = new String();
		for(int i=0; i<grid.size(); i++) {
			for(int j=0; j<grid.get(i).size(); j++) {
				s += " " + getPiece(i, j).toString() + " ";
			}
			s += "\n";
		}
		return s;
	}

}
